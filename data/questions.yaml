# ==========================================
# ===      GENERALIZED EXAM SCHEMA       ===
# ==========================================

- id: "ANA-2010-01"
  year: 2010
  lecturer: "Prof. Boaz Klartag"
  topic: "L1 Completeness"
  given: |
    Let $(Omega, cal(F), mu)$ be a measure space.
  to_prove: |
    Prove that $L^1(mu)$ is a complete space (a Banach space).
  tools: "Riesz-Fischer Theorem, Monotone Convergence Theorem, Dominated Convergence Theorem"
  common_mistakes: "Using the definition of Cauchy sequences directly without a subsequence."
  hint: |
    Extract a rapidly converging subsequence such that $||f_(n_(k+1)) - f_(n_k)|| < 2^(-k)$.
  answer_steps:
    - type: setup
      title: "Rapid Subsequence"
      content: "Let ${f_n}$ be a Cauchy sequence in $L^1$. We cannot assume pointwise convergence yet."

    - type: claim
      title: "Subsequence Extraction"
      content: "There exists a subsequence ${f_(n_k)}$ such that $||f_(n_(k+1)) - f_(n_k)||_1 < 1 / 2^k$."
      proof: "By definition of Cauchy, for every $k$ there exists $N_k$ such that the norm is small. We pick these indices inductively."

    - type: calculation
      title: "Telescoping Series"
      content: |
        Define $g(x) = |f_(n_1)(x)| + sum_(k=1)^infinity |f_(n_(k+1))(x) - f_(n_k)(x)|$.
        By MCT: $integral g d mu = ||f_(n_1)||_1 + sum ||f_(n_(k+1)) - f_(n_k)||_1 < infinity$.
        Thus $g(x) < infinity$ almost everywhere.

    - type: claim
      title: "Limit Definition"
      content: "The series $f_(n_1) + sum (f_(n_(k+1)) - f_(n_k))$ converges a.e. to a function $f$."
      proof: "The partial sums are exactly $f_(n_k)$. Since the series of absolute values converges (bounded by $g$), the series converges absolutely a.e."

    - type: conclusion
      title: "L1 Convergence"
      content: "Since $|f_(n_k)| <= g in L^1$, by Dominated Convergence, $f_(n_k) -> f$ in $L^1$. Since the original sequence is Cauchy and has a convergent subsequence, the whole sequence converges. Q.E.D."

- id: "ANA-2010-02"
  year: 2010
  lecturer: "Prof. Boaz Klartag"
  topic: "Pathological Functions"
  given: |
    Find a function $f: [0,1] -> RR$.
  to_prove: |
    Construct $f$ such that:
    1. $f$ is absolutely continuous.
    2. $f$ is strictly increasing.
    3. $f'(x) = 0$ on a set $A$ with $mu(A) > 0$.
  tools: "Fat Cantor Set, Indicator Integration"
  common_mistakes: "Using the standard Cantor function (singular, not AC)."
  hint: |
    Construct a 'Fat' Cantor set $A$ with positive measure, then define $f$ as the integral of $1_(A^c)$.
  answer_steps:
    - type: setup
      title: "Fat Cantor Set"
      content: "Construct a Smith-Volterra-Cantor set $A subset [0,1]$. Instead of removing $1/3$, remove intervals of length $1/4^n$ such that sum of removed lengths is $< 1$."

    - type: claim
      title: "Set Properties"
      content: "$A$ is closed, nowhere dense, and $mu(A) > 0$."
      proof: "The complement $A^c$ is a union of open intervals with total length $mu(A^c) < 1$. Thus $mu(A) = 1 - mu(A^c) > 0$. Since $A^c$ is dense, $A$ contains no intervals."

    - type: calculation
      title: "Function Definition"
      content: |
        Define $f(x) = integral_0^x bb(1)_(A^c) (t) d t$.

    - type: step
      title: "Verification"
      content: "1. *AC:* Indefinite integrals of $L^1$ functions are Absolutely Continuous.\n2. *Strictly Increasing:* Since $A^c$ is dense, any interval $[x,y]$ contains points of $A^c$, so the integral grows.\n3. *Derivative:* By Lebesgue Differentiation, $f'(x) = bb(1)_(A^c)(x)$ a.e. For $x in A$, $f'(x) = 0$."

    - type: conclusion
      title: "Result"
      content: "The constructed $f$ satisfies all conditions. Q.E.D."

- id: "ANA-2010-03"
  year: 2010
  lecturer: "Prof. Boaz Klartag"
  topic: "Geometric Measure Theory"
  given: |
    Let $H_f = { (x,y) : 0 <= y <= f(x) }$ be the subgraph of $f$.
  to_prove: |
    (a) $integral |f - g| d m_1 = m_2(H_f Delta H_g)$
    (b) $integral |f - g| d m_1 = integral_RR m_1({f < t} Delta {g < t}) d t$
  tools: "Fubini-Tonelli, Layer Cake Representation"
  common_mistakes: "Confusing 1D and 2D measures."
  hint: |
    Write $|f(x) - g(x)|$ as an integral of an indicator function $integral |1_(H_f) - 1_(H_g)| d y$.
  answer_steps:
    - type: setup
      title: "Geometric Area"
      content: "Note that for fixed $x$, the measure of the symmetric difference of the vertical slices is $|f(x) - g(x)|$."
    
    - type: calculation
      title: "Proof of (a)"
      content: |
        $integral_RR |f(x) - g(x)| d x = integral_RR (integral_RR |bb(1)_(H_f)(x,y) - bb(1)_(H_g)(x,y)| d y) d x$
        By Fubini, this equals $integral_(RR^2) bb(1)_(H_f Delta H_g) d m_2 = m_2(H_f Delta H_g)$.

    - type: claim
      title: "Layer Cake (b)"
      content: "Relate the condition $y \"between\" f(x) \"and\" g(x)$ to $x in {f < y} Delta {g < y}$."
      proof: "$y < f(x)$ and $y > g(x)$ (or vice versa) is equivalent to $x$ being in the set where $f$ is above $y$ and $g$ is below (or vice versa)."

    - type: calculation
      title: "Proof of (b)"
      content: |
        Apply Fubini to the 2D integral from (a):
        $integral_RR (integral_RR |bb(1)_(H_f) - bb(1)_(H_g)| d x) d y$
        The inner integral is $m_1({ x : y "between" f(x) "and" g(x) })$.
        $= m_1({ f < y } Delta { g < y })$.

    - type: conclusion
      title: "Result"
      content: "Integrating this over $y$ yields the formula. Q.E.D."

- id: "ANA-2010-04"
  year: 2010
  lecturer: "Prof. Boaz Klartag"
  topic: "Uniqueness of Measures"
  given: |
    Let $mu, nu$ be $sigma$-finite Borel measures.
  to_prove: |
    (a) If $mu([a,b]) = nu([a,b])$ for all $a,b in QQ$, implies $mu = nu$?
    (b) If $mu([t, t+1]) = nu([t, t+1])$ for all $t in RR$, implies $mu = nu$?
  tools: "Pi-Lambda Theorem, Generators"
  common_mistakes: "Thinking rational endpoints aren't enough to generate Borel."
  hint: |
    (a) Rational intervals generate Borel. (b) Consider a periodic perturbation.
  answer_steps:
    - type: setup
      title: "Part (a): Generators"
      content: "The set of intervals with rational endpoints $cal(P) = { [a,b] : a,b in QQ }$ is a $pi$-system."
    
    - type: claim
      title: "Generation of Borel"
      content: "$sigma(cal(P)) = cal(B)(RR)$."
      proof: "Any open interval is a countable union of rational intervals. Since the measures agree on $cal(P)$ and are $sigma$-finite, by the Uniqueness Theorem, $mu = nu$. Answer: Yes."

    - type: step
      title: "Part (b): Counter-example"
      content: "Consider the Lebesgue measure $d mu = d x$ and a perturbed measure $d nu = (1 + sin(2 pi x)) d x$."

    - type: calculation
      title: "Integral Check"
      content: |
        $nu([t, t+1]) = integral_t^(t+1) (1 + sin(2 pi x)) d x$
        $= 1 + [-1/(2 pi) cos(2 pi x)]_t^(t+1) = 1 + 0 = 1$.
        This matches $mu([t, t+1])$.

    - type: conclusion
      title: "Conclusion"
      content: "The measures agree on all unit intervals but $mu != nu$ (densities differ). Answer: No."

- id: "ANA-2010-05"
  year: 2010
  lecturer: "Prof. Boaz Klartag"
  topic: "Convergence in Measure"
  given: |
    Let $(Omega, cal(F), mu)$ be a finite measure space.
    Let $f_n -> f$ in measure.
  to_prove: |
    Prove there exists a subsequence ${f_(n_k)}$ that converges to $f$ almost everywhere.
  tools: "Borel-Cantelli Lemma, Rapid Decay Selection"
  common_mistakes: "Assuming the whole sequence converges (e.g., 'Typewriter' sequence)."
  hint: |
    Select indices such that the measure of the 'bad set' decreases geometrically, e.g., $< 1 / 2^k$.
  answer_steps:
    - type: setup
      title: "Goal: Summable Measures"
      content: "We need to select indices such that $sum mu(E_k) < infinity$, where $E_k$ is the set where $|f_(n_k) - f|$ is large."
    
    - type: claim
      title: "Inductive Selection"
      content: "We can choose $n_1 < n_2 < ...$ such that $mu({ x : |f_(n_k)(x) - f(x)| > 1 / 2^k }) < 1 / 2^k$."
      proof: "By definition of convergence in measure, for every $epsilon = 1/2^k$, the measure of the bad set goes to 0 as $n -> infinity$. Thus we can always find a sufficiently large $n_k$."

    - type: calculation
      title: "Borel-Cantelli Application"
      content: |
        Let $E_k = { |f_(n_k) - f| > 2^(-k) }$.
        $sum_(k=1)^infinity mu(E_k) < sum 2^(-k) = 1 < infinity$.
        By Borel-Cantelli, almost every $x$ belongs to only finitely many $E_k$.

    - type: conclusion
      title: "Convergence"
      content: "For such $x$, there exists $K$ such that for all $k > K$, $|f_(n_k)(x) - f(x)| <= 2^(-k)$. Thus $f_(n_k)(x) -> f(x)$."

- id: "ANA-2010-06"
  year: 2010
  lecturer: "Prof. Boaz Klartag"
  topic: "Lebesgue Density"
  given: |
    Let $A subset RR$ have positive measure.
    Let $d(x, A) = inf { |y - x| : y in A }$.
  to_prove: |
    Prove that for almost every $x_0 in A$, $d(x_0 + h, A) = o(|h|)$ as $h -> 0$.
  tools: "Lebesgue Density Theorem"
  common_mistakes: "Failing to connect the geometric distance gap to the measure density gap."
  hint: |
    If the distance is large (proportional to $h$), there is a gap in $A$. Show this gap contradicts the density being 1.
  answer_steps:
    - type: setup
      title: "Density Point"
      content: "Let $x_0$ be a point of density of $A$. By Lebesgue Density Theorem, this holds for a.e. $x_0 in A$."

    - type: claim
      title: "Proof by Contradiction"
      content: "Suppose $d(x_0 + h, A)$ is not $o(|h|)$. Then there exists $c > 0$ such that for small $h$, $d(x_0 + h, A) >= c |h|$."
      proof: "This implies the interval $(x_0 + h - c h, x_0 + h + c h)$ contains no points of $A$."

    - type: calculation
      title: "Density Violation"
      content: |
        The interval $I = [x_0, x_0 + h + c h]$ has length roughly $|h|$.
        It contains a 'gap' of size $2 c |h|$ where $A$ is empty.
        Thus $m(A sect I) / m(I)$ would be bounded away from 1.

    - type: conclusion
      title: "Result"
      content: "This contradicts that $x_0$ is a density point (where limit ratio is 1). Thus $d(x_0 + h, A) / |h| -> 0$. Q.E.D."

- id: "ANA-2010-07"
  year: 2010
  lecturer: "Prof. Boaz Klartag"
  topic: "Measure Rigidity"
  given: |
    Let $mu$ be a Borel measure on $RR$.
    Suppose $mu(A) = mu(bar(A))$ for every measurable set $A$.
  to_prove: |
    Prove that $mu$ must be the zero measure ($mu equiv 0$).
  tools: "Dense Sets, Atoms"
  common_mistakes: "Testing only intervals."
  hint: |
    Test the condition on (1) Rational numbers in an interval and (2) Single points/Atoms.
  answer_steps:
    - type: setup
      title: "Test 1: Rationals"
      content: "Let $A = QQ sect [0, 1]$. $A$ is countable, so if $mu$ is continuous (like Lebesgue), $mu(A) = 0$. However, $bar(A) = [0, 1]$. The condition requires $mu([0, 1]) = mu(A)$."
    
    - type: claim
      title: "No Continuous Part"
      content: "The measure cannot assign mass to intervals."
      proof: "If it did, $mu([0,1]) > 0$ but $mu(QQ sect [0,1]) = 0$ (if no atoms), which is a contradiction."

    - type: claim
      title: "Test 2: Atoms"
      content: "Suppose $mu({p}) > 0$. Consider $A = (p, p + epsilon)$."
      proof: "$bar(A) = [p, p + epsilon]$. $mu(bar(A)) = mu({p}) + mu(A) + mu({p+epsilon})$. Since $mu(A) = mu(bar(A))$, we must have $mu({p}) = 0$."

    - type: conclusion
      title: "Conclusion"
      content: "Since $mu$ has no atoms and cannot assign mass to intervals (as shown by the dense set argument), $mu$ must be 0 everywhere. Q.E.D."

- id: "ANA-2010-08"
  year: 2010
  lecturer: "Prof. Boaz Klartag"
  topic: "Fubini Inequality"
  given: |
    Let $A_t = { x in [0,1] : t <= f(x) <= 2 t }$.
  to_prove: |
    Prove $integral_{[0,1]} f d m <= integral_0^infinity 2 / t ( integral_(A_t) f(x) d m(x) ) d t$.
  tools: "Fubini-Tonelli Theorem"
  common_mistakes: "Forgetting to convert the set condition into an indicator function range."
  hint: |
    Write the RHS as a double integral involving $bb(1)_(A_t)$. Swap the order of integration.
  answer_steps:
    - type: setup
      title: "Indicator Formulation"
      content: "RHS $= integral_0^infinity 2 / t ( integral_{[0,1]} f(x) bb(1)_({ t <= f(x) <= 2 t }) d x ) d t$."

    - type: claim
      title: "Fubini Swap"
      content: "Swap $d t$ and $d x$. The condition $t <= f(x) <= 2 t$ becomes $f(x) / 2 <= t <= f(x)$."
      proof: "Valid by Fubini-Tonelli since the integrand is non-negative."

    - type: calculation
      title: "Inner Integral"
      content: |
        RHS $= integral_{[0,1]} f(x) ( integral_(f(x) / 2)^(f(x)) 2 / t d t ) d x$
        Inner $= 2 [ln(t)]_(f(x) / 2)^(f(x)) = 2 (ln(f(x)) - ln(f(x) / 2))$
        $= 2 ln( (f(x)) / (f(x) / 2) ) = 2 ln(2)$.

    - type: conclusion
      title: "Final Comparison"
      content: "RHS $= (2 ln(2)) integral f$. Since $2 ln(2) approx 1.38 > 1$, the inequality holds. Q.E.D."

- id: "ANA-2016-01"
  year: 2016
  lecturer: "Prof. Boaz Klartag"
  topic: "Absolute Continuity"
  given: |
    Let $f : [0,1] -> RR$ be absolutely continuous (AC).
    Suppose $f'(x) = 0$ almost everywhere.
  to_prove: |
    Prove that $f$ is constant.
  tools: "Fundamental Theorem of Calculus (Lebesgue)"
  common_mistakes: "Confusing AC with continuous and diffable a.e. (Cantor function)."
  hint: |
    Use the FTC for absolutely continuous functions: $f(x) = f(0) + integral_0^x f'$.
  answer_steps:
    - type: setup
      title: "FTC Application"
      content: "Since $f$ is absolutely continuous, the Fundamental Theorem of Calculus holds for Lebesgue integrals."
    
    - type: calculation
      title: "Integral Evaluation"
      content: |
        $f(x) = f(0) + integral_0^x f'(t) d t$
        Since $f'(t) = 0$ a.e., $integral_0^x 0 d t = 0$.

    - type: conclusion
      title: "Result"
      content: "Thus $f(x) = f(0)$ for all $x in [0,1]$, so $f$ is constant. Q.E.D."

- id: "ANA-2016-02"
  year: 2016
  lecturer: "Prof. Boaz Klartag"
  topic: "Pathological Construction"
  given: |
    Find a function $f : [0,1] -> RR$.
  to_prove: |
    Construct $f$ such that:
    1. $f$ is strictly increasing.
    2. $f$ is absolutely continuous.
    3. $f'(x) = 0$ on a set of positive measure.
  tools: "Fat Cantor Set"
  common_mistakes: "Using a standard Cantor set (measure zero)."
  hint: |
    Construct a 'Fat' Cantor set $K$ (positive measure, nowhere dense) and integrate its complement.
  answer_steps:
    - type: setup
      title: "Fat Cantor Set"
      content: "Let $K subset [0,1]$ be a Smith-Volterra-Cantor set ('Fat Cantor Set') with $m(K) > 0$. Let $U = [0,1] setminus K$."

    - type: claim
      title: "Function Definition"
      content: "Define $f(x) = integral_0^x bb(1)_U (t) d t$."
      proof: "As an indefinite integral of an $L^1$ function, $f$ is absolutely continuous."

    - type: step
      title: "Strictly Increasing"
      content: "Since $K$ contains no intervals (nowhere dense), $U$ is dense in $[0,1]$. Thus any interval contains points of $U$, making the integral strictly positive."

    - type: conclusion
      title: "Derivative Property"
      content: "By Lebesgue Differentiation Theorem, $f'(x) = bb(1)_U(x)$ a.e. Thus for almost all $x in K$, $f'(x) = 0$. Since $m(K) > 0$, the condition is met. Q.E.D."

- id: "ANA-2016-03"
  year: 2016
  lecturer: "Prof. Boaz Klartag"
  topic: "Chernoff Bound"
  given: |
    Let $f$ be integrable. Suppose for all $s > 0$, $integral_{[0,1]} e^(s f) <= e^(s^2)$.
  to_prove: |
    Prove that for all $t > 0$, $m({ x : f(x) > t }) <= e^(- t^2 / 4)$.
  tools: "Markov's Inequality, Calculus Optimization"
  common_mistakes: "Forgetting to optimize the parameter $s$."
  hint: |
    Apply Markov's inequality to $e^(s f)$ and minimize the resulting bound with respect to $s$.
  answer_steps:
    - type: setup
      title: "Exponential Markov"
      content: "The set ${ f > t }$ is the same as ${ e^(s f) > e^(s t) }$ for $s > 0$."
      
    - type: calculation
      title: "Apply Inequality"
      content: |
        $m({ f > t }) <= e^(- s t) integral_{[0,1]} e^(s f)$
        $m({ f > t }) <= e^(- s t) dot e^(s^2) = e^(s^2 - s t)$

    - type: claim
      title: "Optimization"
      content: "We minimize the exponent $h(s) = s^2 - s t$."
      proof: "$h'(s) = 2 s - t$. Setting to 0 gives $s = t / 2$. This is a minimum since $h''(s) = 2 > 0$."

    - type: conclusion
      title: "Substitution"
      content: "Plug $s = t / 2$ back into the bound: $e^((t / 2)^2 - (t / 2) t) = e^(t^2 / 4 - t^2 / 2) = e^(- t^2 / 4)$. Q.E.D."

- id: "ANA-2016-04"
  year: 2016
  lecturer: "Prof. Boaz Klartag"
  topic: "Bathtub Principle"
  given: |
    Let $cal(F) = { f : RR -> [0,1] mid integral f = 1 }$.
    Let $g(x) = x^2 + sin(2016 x)$.
  to_prove: |
    Prove the infimum of $integral f g$ is attained by a function of the form $f = bb(1)_({g < s})$.
  tools: "Bathtub Principle (Lieb & Loss)"
  common_mistakes: "Trying to solve for explicit $s$ analytically (not required)."
  hint: |
    To minimize the integral, place the mass of $f$ where $g$ is smallest.
  answer_steps:
    - type: setup
      title: "Intuition"
      content: "We want to minimize the weighted sum $integral f g$ subject to $0 <= f <= 1$ and total mass 1."
    
    - type: claim
      title: "Strategy"
      content: "The optimal strategy is to set $f(x)$ to its maximum value (1) wherever $g(x)$ is smallest."
      proof: "If we had mass at a point where $g$ is large, moving it to where $g$ is smaller would strictly decrease the integral."

    - type: step
      title: "Level Set Construction"
      content: "Let $S_s = { x : g(x) < s }$. We choose $s$ such that $m(S_s) = 1$."

    - type: conclusion
      title: "Minimizer"
      content: "Thus the minimizer is the indicator function $f(x) = bb(1)_(S_s)(x)$. This matches the form $bb(1)_({g < s})$. Q.E.D."

- id: "ANA-2016-05"
  year: 2016
  lecturer: "Prof. Boaz Klartag"
  topic: "Riesz Theorem (Subsequence)"
  given: |
    Let $(Omega, cal(F), mu)$ be a finite measure space.
    Let $f_n -> f$ in measure.
  to_prove: |
    Prove that there exists a subsequence ${f_(n_k)}$ that converges to $f$ almost everywhere.
  tools: "Borel-Cantelli Lemma, Rapid Decay Selection"
  common_mistakes: "Assuming the whole sequence converges."
  hint: |
    Select indices such that the measure of the 'bad set' decreases geometrically ($< 2^(-k)$).
  answer_steps:
    - type: setup
      title: "Selection Strategy"
      content: "We construct a subsequence such that the sum of the measures of the deviation sets is finite."
    
    - type: claim
      title: "Inductive Choice"
      content: "Choose $n_1 < n_2 < ...$ such that $mu({ x : |f_(n_k)(x) - f(x)| > 2^(-k) }) < 2^(-k)$."
      proof: "Possible because $f_n -> f$ in measure implies the measure of bad sets goes to 0."

    - type: calculation
      title: "Borel-Cantelli"
      content: |
        Let $E_k = { |f_(n_k) - f| > 2^(-k) }$.
        $sum mu(E_k) < sum 2^(-k) = 1 < infinity$.
        By Borel-Cantelli, $x$ belongs to infinitely many $E_k$ with probability 0.

    - type: conclusion
      title: "AE Convergence"
      content: "For almost all $x$, there is a $K$ such that for $k > K$, $|f_(n_k)(x) - f(x)| <= 2^(-k)$, which implies convergence. Q.E.D."

- id: "ANA-2016-06"
  year: 2016
  lecturer: "Prof. Boaz Klartag"
  topic: "Derivative Blow-up"
  given: |
    Let $A subset RR$ be a set with Lebesgue measure zero ($m(A)=0$).
  to_prove: |
    Find a non-decreasing function $f : RR -> RR$ such that $f'(x) = +infinity$ for every $x in A$.
  tools: "Sum of Open Covers, Lebesgue Differentiation"
  common_mistakes: "Trying to construct $f$ directly without an integral."
  hint: |
    Sum the indicator functions of open covers of $A$ to create a function $g$ that explodes on $A$, then integrate $g$.
  answer_steps:
    - type: setup
      title: "Open Covers"
      content: "Since $m(A)=0$, for every $n$, there exists an open set $U_n supset A$ with $m(U_n) < 2^(-n)$."

    - type: calculation
      title: "Sum of Indicators"
      content: |
        Define $g(x) = sum_(n=1)^infinity bb(1)_(U_n)(x)$.
        For $x in A$, $x in U_n$ for all $n$, so $g(x) = sum 1 = +infinity$.
        $integral g = sum m(U_n) < sum 2^(-n) = 1$, so $g in L^1$.

    - type: claim
      title: "Function Definition"
      content: "Let $f(x) = integral_0^x g(t) d t$."
      proof: "Since $g >= 0$, $f$ is non-decreasing. Since $g in L^1$, $f$ is finite everywhere."

    - type: conclusion
      title: "Derivative Limit"
      content: "For $x in A$, the average value of $g$ near $x$ goes to infinity. Rigorously, difference quotients grow arbitrarily large because $x$ is deeply nested in all $U_n$. Thus $f'(x) = +infinity$. Q.E.D."

- id: "ANA-2016-07"
  year: 2016
  lecturer: "Prof. Boaz Klartag"
  topic: "Cantor Expansion"
  given: |
    Let $f$ be the Cantor function and $g(x) = f(x) + x$.
    Let $C$ be the Cantor set.
  to_prove: |
    Prove that $m(g(C)) = 1$.
  tools: "Complement Analysis, Translation Property"
  common_mistakes: "Trying to analyze the fractal image directly."
  hint: |
    Calculate the measure of the image of the complement $g(C^c)$ and subtract from the total range range.
  answer_steps:
    - type: setup
      title: "Complement Analysis"
      content: "The complement $C^c$ is a union of disjoint open intervals $I_n$. On each $I_n$, $f(x)$ is constant ($c_n$)."

    - type: claim
      title: "Translation on Intervals"
      content: "On $I_n$, $g(x) = x + c_n$."
      proof: "This is a pure translation. Thus $g(I_n)$ is an interval of length $m(I_n)$."

    - type: calculation
      title: "Summing Measures"
      content: |
        $m(g(C^c)) = sum m(g(I_n)) = sum m(I_n)$.
        We know $sum m(I_n) = m(C^c) = 1$ (since $m(C)=0$).

    - type: conclusion
      title: "Subtraction"
      content: "The range of $g$ is $[g(0), g(1)] = [0, 2]$. Thus $m(g(C)) = m([0,2]) - m(g(C^c)) = 2 - 1 = 1$. Q.E.D."

- id: "ANA-2016-08"
  year: 2016
  lecturer: "Prof. Boaz Klartag"
  topic: "Recovering from Partials"
  given: |
    Let $f : RR^2 -> RR$ have Lipschitz partials vanishing on the boundary of $U=[0,1]^2$.
    Let $h = partial / (partial x) ( partial f / (partial y) )$.
  to_prove: |
    Prove $f(x,y) = integral_([0,x] times [0,y]) h$.
  tools: "Fubini's Theorem, FTC"
  common_mistakes: "Integrating in the wrong order without justifying Fubini."
  hint: |
    Write the double integral and use Fubini to integrate with respect to $x$ first (using the definition of $h$).
  answer_steps:
    - type: setup
      title: "Integral Setup"
      content: "Consider $I = integral_0^y ( integral_0^x h(u,v) d u ) d v$."
      
    - type: calculation
      title: "Inner Integral (x)"
      content: |
        Substitute $h = partial / (partial u) ( (partial f) / (partial v) )$.
        $integral_0^x partial / (partial u) ( (partial f) / (partial v) ) d u = (partial f) / (partial v) (x,v) - (partial f) / (partial v) (0,v)$.
        The boundary term at 0 vanishes by hypothesis.

    - type: claim
      title: "Outer Integral (y)"
      content: "Now integrate the result with respect to $v$."
      proof: "$integral_0^y (partial f) / (partial v) (x,v) d v = f(x,y) - f(x,0)$."

    - type: conclusion
      title: "Final Result"
      content: "Since $f(x,0) = 0$ (boundary condition), we get $f(x,y)$. By Fubini, this equals the double integral. Q.E.D."

- id: "ANA-2018-01"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Symmetric Sigma-Algebras"
  given: |
    Let $Sigma$ be the $sigma$-algebra on $RR$ generated by symmetric intervals $(-a, a)$.
  to_prove: |
    (i) Is $x |-> x^2$ measurable from $(RR, cal(B))$ to $(RR, Sigma)$?
    (ii) Is $x |-> x^3$ measurable?
    (iii) For $f in L^1$, find $Sigma$-measurable $g$ s.t. $integral_A g = integral_A f$ for all $A in Sigma$.
  tools: "Symmetric Sets, Conditional Expectation"
  common_mistakes: "Confusing the direction of the measurability check (pre-image in Sigma vs Borel)."
  hint: |
    Identify $Sigma$ as the collection of all symmetric Borel sets ($E = -E$).
  answer_steps:
    - type: setup
      title: "Identify Sigma"
      content: "The generators $(-a, a)$ are symmetric. Thus $Sigma$ contains exactly those Borel sets $E$ where $x in E iff -x in E$."

    - type: claim
      title: "Part (i): x^2"
      content: "Yes. Let $h(x) = x^2$."
      proof: "The pre-image $h^(-1)((c, d))$ is $(-sqrt(d), -sqrt(c)) union (sqrt(c), sqrt(d))$, which is symmetric. Thus it is in $Sigma$."

    - type: claim
      title: "Part (ii): x^3"
      content: "No. Let $h(x) = x^3$."
      proof: "The pre-image of $(0, 1)$ is $(0, 1)$. This set is not symmetric (does not contain $(-1, 0)$), so it is not in $Sigma$."

    - type: calculation
      title: "Part (iii): Construction"
      content: |
        Define $g(x) = (f(x) + f(-x)) / 2$.
        $g$ is symmetric (even), so it is $Sigma$-measurable.
        $integral_A g = 1/2 integral_A f(x) + 1/2 integral_A f(-x)$.

    - type: conclusion
      title: "Verification"
      content: "Since $A$ is symmetric, $integral_A f(-x) = integral_A f(x)$. Thus $integral_A g = integral_A f$. Q.E.D."

- id: "ANA-2018-02"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Dominated Convergence"
  given: |
    Let $integral_X f d mu = 1$ with $f in L^1$.
  to_prove: |
    Calculate $lim_(n -> infinity) n integral_X log(1 + (f(x)) / n) d mu(x)$.
  tools: "Dominated Convergence Theorem, Inequality ln(1+t) <= t"
  common_mistakes: "Moving limit inside integral without finding a dominator."
  hint: |
    Use the inequality $ln(1+t) <= t$ to bound the integrand by $f(x)$.
  answer_steps:
    - type: setup
      title: "Pointwise Limit"
      content: "For fixed $x$, $n log(1 + f(x)/n) -> f(x)$ as $n -> infinity$."
    
    - type: claim
      title: "Dominating Function"
      content: "We must find $G in L^1$ bounding the sequence."
      proof: "Using $ln(1+t) <= t$ for $t > 0$, we have $|n log(1 + f/n)| <= n dot (f/n) = f$. Since $f in L^1$, it serves as our dominator."

    - type: calculation
      title: "Apply DCT"
      content: |
        $lim_(n -> infinity) integral n log(1 + f/n) = integral lim_(n -> infinity) n log(1 + f/n)$
        $= integral f d mu$

    - type: conclusion
      title: "Result"
      content: "Since $integral f = 1$, the limit is 1. Q.E.D."

- id: "ANA-2018-03"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Null Sets Characterization"
  given: |
    Let $E subset RR^d$.
  to_prove: |
    Prove $m(E) = 0 iff exists f in L^1$ such that $lim_(y -> x) f(y) = +infinity$ for all $x in E$.
  tools: "Markov Inequality, Sum of Open Covers"
  common_mistakes: "Forgetting that 'limit infinity' is stronger than 'value infinity'."
  hint: |
    Use a sum of indicators of open covers $sum bb(1)_(U_k)$ where $m(U_k) < 2^(-k)$.
  answer_steps:
    - type: setup
      title: "Direction <=="
      content: "If such $f$ exists, for any $M$, $E subset { f > M }$. By Markov, $m({f > M}) <= ||f||_1 / M$. Letting $M -> infinity$, $m(E) = 0$."

    - type: claim
      title: "Direction ==>"
      content: "If $m(E)=0$, construct covers."
      proof: "For each $k$, choose open $U_k supset E$ with $m(U_k) < 2^(-k)$. Define $f = sum bb(1)_(U_k)$."

    - type: calculation
      title: "Integrability"
      content: |
        $integral f = sum m(U_k) < sum 2^(-k) = 1$. Thus $f in L^1$.
        For $x in E$, $x in U_k$ for all $k$, so $f(x) = infinity$.

    - type: conclusion
      title: "Blow-up"
      content: "Since $U_k$ are open, $f$ is locally infinite near $x$. (Ideally, use smooth bump functions to ensure strict limit behavior, but sum of indicators suffices for basic measure theory). Q.E.D."

- id: "ANA-2018-04"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Jordan Decomposition"
  given: |
    Let $nu = nu_+ - nu_-$ be the Jordan decomposition.
    Suppose $nu = nu_1 - nu_2$ is another decomposition with $nu_1, nu_2 >= 0$.
  to_prove: |
    Prove $nu_1 >= nu_+$ and $nu_2 >= nu_-$.
  tools: "Hahn Decomposition Theorem"
  common_mistakes: "Comparing measures on arbitrary sets instead of the Hahn set."
  hint: |
    Use the Hahn decomposition set $P$ where $nu$ is essentially $nu_+$.
  answer_steps:
    - type: setup
      title: "Hahn Set"
      content: "Let $(P, N)$ be the Hahn decomposition for $nu$. Then $nu_+(E) = nu(E sect P)$."

    - type: calculation
      title: "Comparison"
      content: |
        For any measurable $E$:
        $nu_+(E) = nu(E sect P) = nu_1(E sect P) - nu_2(E sect P)$

    - type: claim
      title: "Inequality"
      content: "$nu_1(E sect P) - nu_2(E sect P) <= nu_1(E sect P)$."
      proof: "Since $nu_2 >= 0$, dropping the term increases the value (or keeps it same)."

    - type: conclusion
      title: "Result"
      content: "$nu_+(E) <= nu_1(E sect P) <= nu_1(E)$ (by monotonicity). Thus $nu_+ <= nu_1$. Similarly $nu_- <= nu_2$. Q.E.D."

- id: "ANA-2018-05"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Finite to Countable Additivity"
  given: |
    Let $mu$ be a finitely additive function on a measurable space.
    Suppose for any sequence $A_n arrow.b emptyset$, $lim mu(A_n) = 0$.
  to_prove: |
    Prove that $mu$ is a measure (countably additive).
  tools: "Continuity of Measure"
  common_mistakes: "Assuming mu is already a measure."
  hint: |
    Convert a disjoint union $E = union E_n$ into a decreasing sequence of tails $R_N = union_(n=N+1)^infinity E_n$.
  answer_steps:
    - type: setup
      title: "Tails Construction"
      content: "Let $E = union_(n=1)^infinity E_n$ be a disjoint union. Let $R_N = E setminus union_(n=1)^N E_n$."

    - type: claim
      title: "Finite Additivity Step"
      content: "$mu(E) = sum_(n=1)^N mu(E_n) + mu(R_N)$."
      proof: "Since $E = (union_(n=1)^N E_n) union R_N$ is a finite disjoint union."

    - type: step
      title: "Limit Application"
      content: "The sequence $R_N$ decreases to $emptyset$. By hypothesis, $lim_(N -> infinity) mu(R_N) = 0$."

    - type: conclusion
      title: "Result"
      content: "Taking the limit as $N -> infinity$, $mu(E) = sum_(n=1)^infinity mu(E_n)$. Q.E.D."

- id: "ANA-2018-06"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Dyadic Layer Cake"
  given: |
    Let $f >= 0$ be measurable.
  to_prove: |
    Prove $1/2 sum_(n in ZZ) 2^n mu({f > 2^n}) <= integral f d mu <= 2 sum_(n in ZZ) 2^n mu({f > 2^n})$.
  tools: "Simple Function Approximation"
  common_mistakes: "Confusing the disjoint sets $E_n$ with the tail sets ${f > 2^n}$."
  hint: |
    Decompose the domain into rings $E_n = { 2^n < f <= 2^(n+1) }$.
  answer_steps:
    - type: setup
      title: "Decomposition"
      content: "Let $E_n = { x : 2^n < f(x) <= 2^(n+1) }$. Then $integral f = sum_(n in ZZ) integral_(E_n) f$."

    - type: calculation
      title: "Bounds on En"
      content: |
        $sum 2^n mu(E_n) < integral f <= sum 2^(n+1) mu(E_n)$.

    - type: claim
      title: "Relating to Tails"
      content: "The tail sum $S = sum_k 2^k mu({f > 2^k})$ is comparable to the sum over $E_n$."
      proof: "Using Fubini for series (or simple algebra), $sum_k 2^k mu(union_(n=k)^infinity E_n) approx sum_n 2^n mu(E_n)$."

    - type: conclusion
      title: "Result"
      content: "The factors of 2 and 1/2 come from the geometric series summation $sum_(k <= n) 2^k approx 2^(n+1)$. Q.E.D."

- id: "ANA-2018-07"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Generalized DCT"
  given: |
    Let $f_n -> f$ a.e. and $||f_n||_1 -> ||f||_1$.
  to_prove: |
    Prove $||f_n - f||_1 -> 0$.
  tools: "Fatou's Lemma, Triangle Inequality"
  common_mistakes: "Trying to find a dominating function directly."
  hint: |
    Apply Fatou's Lemma to the non-negative sequence $g_n = |f_n| + |f| - |f_n - f|$.
  answer_steps:
    - type: setup
      title: "Construct Non-Negative Sequence"
      content: "Define $g_n = |f_n| + |f| - |f_n - f|$. Since $|f_n - f| <= |f_n| + |f|$, $g_n >= 0$."

    - type: claim
      title: "Fatou's Application"
      content: "$integral liminf g_n <= liminf integral g_n$."
      proof: "Pointwise, $g_n -> 2|f|$. Thus LHS is $2||f||_1$."

    - type: calculation
      title: "Integral Limit"
      content: |
        RHS $= lim (||f_n||_1 + ||f||_1) - limsup ||f_n - f||_1$
        $= 2||f||_1 - limsup ||f_n - f||_1$.

    - type: conclusion
      title: "Conclusion"
      content: "$2||f||_1 <= 2||f||_1 - limsup ||f_n - f||_1$. This implies $limsup ||f_n - f||_1 <= 0$, so the limit is 0. Q.E.D."

- id: "ANA-2018-08"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Radon-Nikodym Chain Rule"
  given: |
    Let $lambda << nu << mu$.
  to_prove: |
    Prove $(d lambda) / (d mu) = (d lambda) / (d nu) dot (d nu) / (d mu)$ a.e.
  tools: "Change of Measure Formula"
  common_mistakes: "Treating derivatives like fractions without integral justification."
  hint: |
    Use the property $integral g d nu = integral g ((d nu) / (d mu)) d mu$.
  answer_steps:
    - type: setup
      title: "Goal"
      content: "We must show $lambda(E) = integral_E ( (d lambda) / (d nu) dot (d nu) / (d mu) ) d mu$ for all $E$."
    
    - type: claim
      title: "Chain Rule Property"
      content: "For any $g >= 0$, $integral g d nu = integral g ((d nu)/(d mu)) d mu$."
      proof: "Standard property of Radon-Nikodym derivatives."

    - type: calculation
      title: "Substitution"
      content: |
        Let $g = (d lambda) / (d nu)$.
        $lambda(E) = integral_E g d nu$ (by def of $d lambda / d nu$).
        $= integral_E g ((d nu) / (d mu)) d mu$ (by the property above).

    - type: conclusion
      title: "Uniqueness"
      content: "Since the integrand $g ((d nu)/(d mu))$ integrates to $lambda(E)$ for all $E$, it is the derivative $(d lambda)/(d mu)$. Q.E.D."

- id: "ANA-2018-SAMPLE-01"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Cauchy in Measure"
  given: |
    Let ${f_n}$ be Cauchy in measure.
  to_prove: |
    Prove there exists measurable $f$ such that $f_n -> f$ in measure.
  tools: "Completeness of L0, Borel-Cantelli"
  common_mistakes: "Confusing a.e. convergence with measure convergence."
  hint: |
    Extract a rapidly Cauchy subsequence to define the limit $f$ a.e., then prove measure convergence for the full sequence.
  answer_steps:
    - type: setup
      title: "Subsequence"
      content: "Choose $n_k$ such that $mu({ |f_(n_(k+1)) - f_(n_k)| > 2^(-k) }) < 2^(-k)$."
    
    - type: claim
      title: "Limit Definition"
      content: "The series $f_(n_1) + sum (f_(n_(k+1)) - f_(n_k))$ converges a.e. to a function $f$."
      proof: "By Borel-Cantelli, the bad sets occur finitely often a.e."

    - type: calculation
      title: "Triangle Inequality"
      content: |
        ${ |f_n - f| > epsilon } subset { |f_n - f_(n_k)| > epsilon / 2 } union { |f_(n_k) - f| > epsilon / 2 }$.
        For large $n, k$, both sets are small.

    - type: conclusion
      title: "Result"
      content: "Thus $mu({ |f_n - f| > epsilon }) -> 0$. Q.E.D."

- id: "ANA-2018-SAMPLE-02"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Jensen's Inequality"
  given: |
    Let $integral f d mu = 1$. Let $E$ be a set.
  to_prove: |
    Prove $integral_E log f d mu <= mu(E) log(1 / mu(E))$.
  tools: "Jensen's Inequality"
  common_mistakes: "Forgetting to normalize the measure on $E$."
  hint: |
    Apply Jensen with the probability measure $d PP = (1 / mu(E)) d mu|_E$.
  answer_steps:
    - type: setup
      title: "Normalization"
      content: "Define prob. measure on $E$: $1 / mu(E) integral_E log f d mu$."
    
    - type: calculation
      title: "Concavity"
      content: |
        $1 / mu(E) integral_E log f <= log( 1 / mu(E) integral_E f )$.
    
    - type: claim
      title: "Bound Integral"
      content: "$integral_E f <= integral_X f = 1$."
      proof: "Since $f >= 0$."

    - type: conclusion
      title: "Result"
      content: "Multiply by $mu(E)$: $integral_E log f <= mu(E) log( 1 / mu(E) )$. Q.E.D."

- id: "ANA-2018-SAMPLE-03"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Inverse Square Root Series"
  given: |
    $S_n(x) = sum_(k=1)^n 1 / (2^k sqrt(|x - r_k|))$.
  to_prove: |
    (i) $S in L^1$. (ii) $S in.not L^2(I)$ for any interval $I$.
  tools: "Fubini, Power Functions"
  common_mistakes: "Assuming L1 implies L2."
  hint: |
    $1/sqrt(|x|)$ is integrable near 0, but $1/|x|$ is not.
  answer_steps:
    - type: setup
      title: "L1 Check"
      content: "$integral |S| <= sum 2^(-k) integral |x - r_k|^(-1/2)$."
      
    - type: claim
      title: "Integrability"
      content: "$integral_0^1 |x|^(-1/2) < infinity$."
      proof: "Power is $-1/2 > -1$. Thus the sum converges in $L^1$."

    - type: calculation
      title: "L2 Blow-up"
      content: |
        $S^2$ contains terms like $1 / (2^(2k) |x - r_k|)$.
        $integral_I 1 / |x - r_k| = infinity$ if $r_k in I$.

    - type: conclusion
      title: "Density"
      content: "Since rationals are dense, any interval $I$ contains a singularity making the $L^2$ norm infinite. Q.E.D."

- id: "ANA-2018-SAMPLE-01"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Cauchy in Measure"
  given: |
    Let $(X, Sigma, mu)$ be a finite measure space.
    Let ${f_n}$ be a sequence of measurable functions that is Cauchy in measure.
  to_prove: |
    Prove there exists a measurable function $f$ such that $f_n -> f$ in measure.
  tools: "Completeness of L0, Borel-Cantelli Lemma"
  common_mistakes: "Assuming Cauchy in measure implies Cauchy a.e. without a subsequence."
  hint: |
    Extract a rapidly converging subsequence $f_(n_k)$ to define the limit $f$ almost everywhere, then prove convergence in measure for the full sequence.
  answer_steps:
    - type: setup
      title: "Subsequence Extraction"
      content: "Choose indices $n_k$ such that $mu({ x : |f_(n_(k+1)) - f_(n_k)| > 2^(-k) }) < 2^(-k)$."
    
    - type: claim
      title: "Pointwise Limit"
      content: "The subsequence $f_(n_k)$ converges almost everywhere to a function $f$."
      proof: "Let $E_k$ be the sets where the difference is large. $sum mu(E_k) < 1$. By Borel-Cantelli, $x$ belongs to finitely many $E_k$ a.e., so the series telescope converges."

    - type: calculation
      title: "Triangle Inequality"
      content: |
        To show $f_n -> f$ in measure, fix $epsilon > 0$.
        $|f_n - f| <= |f_n - f_(n_k)| + |f_(n_k) - f|$.
        ${ |f_n - f| > epsilon } subset { |f_n - f_(n_k)| > epsilon / 2 } union { |f_(n_k) - f| > epsilon / 2 }$.

    - type: conclusion
      title: "Conclusion"
      content: "For large $n$ and fixed large $k$, the first set is small (Cauchy) and the second is small (convergence of subsequence). Thus $mu({ |f_n - f| > epsilon }) -> 0$. Q.E.D."

- id: "ANA-2018-SAMPLE-02"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Jensen's Inequality"
  given: |
    Let $f: X -> (0, infinity)$ with $integral_X f d mu = 1$.
    Let $E$ be a set with $0 < mu(E) < infinity$.
  to_prove: |
    Prove $integral_E log(f) d mu <= mu(E) log(1 / mu(E))$.
  tools: "Jensen's Inequality, Concavity of Log"
  common_mistakes: "Applying Jensen without normalizing the measure to a probability measure."
  hint: |
    Define a probability measure $d nu = (1 / mu(E)) d mu$ on $E$ and apply Jensen's inequality to the concave function $log(t)$.
  answer_steps:
    - type: setup
      title: "Normalization"
      content: "Consider the probability measure on $E$: $d nu = 1 / mu(E) d mu|_E$."
    
    - type: calculation
      title: "Apply Jensen"
      content: |
        $1 / mu(E) integral_E log(f) d mu = integral_E log(f) d nu$
        $<= log( integral_E f d nu ) = log( 1 / mu(E) integral_E f d mu )$.
    
    - type: claim
      title: "Integral Bound"
      content: "$integral_E f d mu <= 1$."
      proof: "Since $f > 0$ and $integral_X f d mu = 1$, the integral over subset $E$ is at most 1."

    - type: conclusion
      title: "Rearrange"
      content: "Substituting back: $1 / mu(E) integral_E log(f) d mu <= log( 1 / mu(E) )$. Multiplying by $mu(E)$ gives the result. Q.E.D."

- id: "ANA-2018-SAMPLE-03"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Inverse Square Root Series"
  given: |
    Let ${r_k}$ be an enumeration of $QQ sect [0,1]$.
    Define $S(x) = sum_(k=1)^infinity 1 / (2^k sqrt(|x - r_k|))$.
  to_prove: |
    (i) $S in L^1([0,1])$.
    (ii) $S in.not L^2(I)$ for any interval $I subset [0,1]$.
  tools: "Monotone Convergence Theorem, p-Integrals"
  common_mistakes: "Assuming convergence in L1 implies convergence in L2."
  hint: |
    For (i), integrate term by term. For (ii), use the fact that $1/|x|$ is not integrable near 0.
  answer_steps:
    - type: setup
      title: "L1 Convergence"
      content: "$integral_0^1 S(x) d x = sum 2^(-k) integral_0^1 |x - r_k|^(-1/2) d x$."
      
    - type: claim
      title: "Term Integrability"
      content: "Each term is finite."
      proof: "$integral |u|^(-1/2) d u$ converges (power $>-1$). The sum of integrals is bounded by $sum C 2^(-k) < infinity$."

    - type: calculation
      title: "L2 Divergence"
      content: |
        $S(x)^2 >= ( 1 / (2^k sqrt(|x - r_k|)) )^2 = 1 / (4^k |x - r_k|)$.
        For any interval $I$, choose $r_k in I$.
        $integral_I S^2 >= 1 / 4^k integral_I 1 / |x - r_k| d x = infinity$.

    - type: conclusion
      title: "Result"
      content: "$S in L^1$ but $S in.not L^2(I)$ because of the logarithmic divergence of $1/x$. Q.E.D."

- id: "ANA-2018-SAMPLE-04"
  year: 2018
  lecturer: "Prof. Mikhail Sodin"
  topic: "Lebesgue Density"
  given: |
    Let $A subset D$ (unit disk).
    Suppose every point in $D setminus {(0,0)}$ is a density point of $A$.
  to_prove: |
    Prove that the origin $(0,0)$ is also a density point of $A$.
  tools: "Lebesgue Density Theorem"
  common_mistakes: "Trying to construct epsilon-delta arguments without using measure properties."
  hint: |
    If every point is a density point, the set is almost everywhere the whole space. The missing point (origin) has measure 0.
  answer_steps:
    - type: setup
      title: "Measure of Complement"
      content: "Since every point in $D^*$ is a density point of $A$, $A$ must have full measure in $D^*$. Thus $m(D^* setminus A) = 0$."
    
    - type: claim
      title: "Full Measure"
      content: "$m(D setminus A) = 0$."
      proof: "The only extra point is the origin, which has measure 0. Thus $A$ is almost everywhere $D$."

    - type: calculation
      title: "Density at Origin"
      content: |
        Density ratio: $m(A sect B_r) / m(B_r)$.
        Since $m(A sect B_r) = m(D sect B_r)$ (ignoring null sets), the ratio is 1.

    - type: conclusion
      title: "Limit"
      content: "$lim_(r -> 0) 1 = 1$. Thus the origin is a density point. Q.E.D."

- id: "ANA-2019-01"
  year: 2019
  lecturer: "Prof. Mikhail Sodin"
  topic: "Density-Like Sets"
  given: |
    Let $E subset RR$ be a Lebesgue measurable set.
    Define $tilde(E) = { x in RR : forall r > 0, m(E sect (x-r, x+r)) > r }$.
  to_prove: |
    Prove that $tilde(E)$ is an $F_sigma$ set (a countable union of closed sets).
  tools: "Continuity of Measure, Open Sets"
  common_mistakes: "Assuming the set is necessarily open without proof."
  hint: |
    Express $tilde(E)$ as an intersection of sets $U_r$. Show $U_r$ is open due to the continuity of the map $x |-> m(E sect (x-r, x+r))$.
  answer_steps:
    - type: setup
      title: "Continuity Argument"
      content: "Let $psi_r(x) = m(E sect (x-r, x+r))$. This function is continuous in $x$ because measure changes continuously with interval shifts."

    - type: claim
      title: "Open Sets Construction"
      content: "Let $U_r = { x : psi_r(x) > r }$. Since $psi_r$ is continuous, $U_r$ is the inverse image of $(r, infinity)$, hence open."
      proof: "Strict inequality with continuous functions defines open sets."

    - type: calculation
      title: "Intersection Structure"
      content: |
        $tilde(E) = sect_(r > 0) U_r$.
        Note: The problem asks for $F_sigma$. If $tilde(E)$ is essentially open (or a specific type of intersection), relate it to $F_sigma$.
        Open sets in $RR$ are $F_sigma$ (union of closed intervals).

    - type: conclusion
      title: "Topology"
      content: "If $tilde(E)$ can be shown to be open (or a specific $G_delta$), the classification follows. (Note: The prompt suggests proving $F_sigma$, which implies openness or a countable union of closed sets). Q.E.D."

- id: "ANA-2019-02"
  year: 2019
  lecturer: "Prof. Mikhail Sodin"
  topic: "Littlewood's First Principle"
  given: |
    Let $E subset [0,1]$ be measurable. Let $epsilon > 0$.
  to_prove: |
    Exists a finite union of disjoint open intervals $A = union_(j=1)^N I_j$ such that $m(E Delta A) <= epsilon$.
  tools: "Regularity of Measure, Structure of Open Sets"
  common_mistakes: "Forgetting to truncate the countable union to a finite one."
  hint: |
    Approximate $E$ by an open set $O$, then approximate $O$ (countable intervals) by a finite union.
  answer_steps:
    - type: setup
      title: "Open Approximation"
      content: "By regularity, exists open $O supset E$ such that $m(O setminus E) < epsilon / 2$. Thus $m(E Delta O) < epsilon / 2$."

    - type: claim
      title: "Structure of O"
      content: "$O = union_(k=1)^infinity I_k$ (disjoint open intervals)."
      proof: "Standard topology of $RR$."

    - type: calculation
      title: "Finite Truncation"
      content: |
        Since $O subset [0,1]$ (mostly), $sum m(I_k) < infinity$.
        Choose $N$ such that $sum_(k=N+1)^infinity m(I_k) < epsilon / 2$.
        Let $A = union_(k=1)^N I_k$.

    - type: conclusion
      title: "Triangle Inequality"
      content: "$m(E Delta A) <= m(E Delta O) + m(O Delta A) < epsilon / 2 + epsilon / 2 = epsilon$. Q.E.D."

- id: "ANA-2019-03"
  year: 2019
  lecturer: "Prof. Mikhail Sodin"
  topic: "Product Convergence in Measure"
  given: |
    $f_n -> 0$ in measure.
    $sup_n integral |g_n| d mu < infinity$ ($L^1$ bounded).
  to_prove: |
    Prove $f_n g_n -> 0$ in measure.
  tools: "Markov Inequality, Splitting Sets"
  common_mistakes: "Assuming $g_n$ is bounded pointwise."
  hint: |
    Split the set ${ |f_n g_n| > epsilon }$ into where $g_n$ is large (measure controlled by Markov) and where $g_n$ is small (controlled by $f_n$).
  answer_steps:
    - type: setup
      title: "Set Splitting"
      content: "Fix $M > 0$. ${ |f_n g_n| > epsilon } subset { |g_n| > M } union { |g_n| <= M, |f_n| > epsilon / M }$."

    - type: calculation
      title: "Markov Bound"
      content: |
        $mu({ |g_n| > M }) <= 1 / M integral |g_n| <= C / M$.
        Choose $M$ large enough so $C / M < delta / 2$.

    - type: claim
      title: "Convergence of f_n"
      content: "For fixed $M$, $mu({ |f_n| > epsilon / M }) -> 0$."
      proof: "Since $f_n -> 0$ in measure."

    - type: conclusion
      title: "Result"
      content: "Total measure $< delta / 2 + delta / 2 = delta$ for large $n$. Q.E.D."

- id: "ANA-2019-04"
  year: 2019
  lecturer: "Prof. Mikhail Sodin"
  topic: "Radon-Nikodym Reciprocal"
  given: |
    $mu << nu$ and $nu << mu$ ($sigma$-finite).
  to_prove: |
    Prove $(d mu) / (d nu) dot (d nu) / (d mu) = 1$ a.e.
  tools: "Radon-Nikodym Chain Rule"
  common_mistakes: "Algebraic cancellation without using the integral definition."
  hint: |
    Apply the chain rule $(d lambda) / (d nu) = (d lambda) / (d mu) (d mu) / (d nu)$ with $lambda = nu$.
  answer_steps:
    - type: setup
      title: "Chain Rule"
      content: "We know $(d nu) / (d nu) = (d nu) / (d mu) dot (d mu) / (d nu)$ a.e."
    
    - type: calculation
      title: "Identity Derivative"
      content: |
        Clearly $(d nu) / (d nu) = 1$ a.e.
        (Since $nu(E) = integral_E 1 d nu$).

    - type: conclusion
      title: "Result"
      content: "$1 = (d nu) / (d mu) dot (d mu) / (d nu)$ a.e. Q.E.D."

- id: "ANA-2019-05"
  year: 2019
  lecturer: "Mr. Adi Dickstein"
  topic: "Convergence in Measure vs Pointwise"
  given: |
    Let $f, g, h$ be bounded measurable functions with $f <= g <= h$.
  to_prove: |
    (a) Construct $f_n -> 0$ in measure but pointwise limit exists nowhere.
    (b) Construct $g_n -> g$ in measure such that $liminf g_n = f$ and $limsup g_n = h$ everywhere.
  tools: "Typewriter Sequence (Traveling Bump)"
  common_mistakes: "Using a sequence that converges at some points."
  hint: |
    Use intervals wrapping around $[0,1]$ repeatedly. For (b), define $g_n$ to hit $f$ and $h$ on these wrapping sets.
  answer_steps:
    - type: setup
      title: "Traveling Bump Sets"
      content: "Let $I_n$ be a sequence of intervals wrapping $[0,1]$ with length $1/n$ (e.g., $[0, 1], [0, 1/2], [1/2, 1], ...$). Let $A_n$ be the corresponding indicator sets."

    - type: claim
      title: "Part (a): Construction"
      content: "Let $phi_n = bb(1)_(A_n)$. $m(A_n) -> 0$, so $phi_n -> 0$ in measure."
      proof: "For any $x$, $x in A_n$ for infinitely many $n$ and $x in.not A_n$ for infinitely many $n$. Thus $limsup phi_n = 1, liminf phi_n = 0$."

    - type: claim
      title: "Part (b): Oscillation"
      content: "Define $g_n(x)$ as: if $x in A_n$, $g_n(x) = h(x)$ (n even) or $f(x)$ (n odd). If $x in.not A_n$, $g_n(x) = g(x)$."
      proof: "Since $m(A_n) -> 0$, $g_n -> g$ in measure. Since every $x$ is hit infinitely often by odd/even bumps, the limits are $f$ and $h$."

    - type: conclusion
      title: "Result"
      content: "The sequence satisfies all conditions. Q.E.D."

- id: "ANA-2019-06"
  year: 2019
  lecturer: "Mr. Adi Dickstein"
  topic: "Generalized DCT"
  given: |
    $f_n -> f$ in measure, $|f_n| <= g in L^1$.
  to_prove: |
    Prove $integral f_n -> integral f$.
  tools: "Subsequence Principle"
  common_mistakes: "Trying to prove directly without subsequences."
  hint: |
    Show that every subsequence of integrals has a sub-subsequence converging to the limit.
  answer_steps:
    - type: setup
      title: "Subsequence Argument"
      content: "It suffices to show that for any subsequence $f_(n_k)$, there exists a sub-subsequence converging to the integral."

    - type: claim
      title: "AE Convergence"
      content: "Since $f_(n_k) -> f$ in measure, there exists a sub-subsequence $f_(n_(k_j)) -> f$ almost everywhere."
    
    - type: calculation
      title: "Applying DCT"
      content: |
        For this sub-subsequence, $|f_(n_(k_j))| <= g$.
        By standard DCT, $integral f_(n_(k_j)) -> integral f$.

    - type: conclusion
      title: "Conclusion"
      content: "Since every subsequence of the real numbers $a_n = integral f_n$ has a sub-subsequence converging to $L = integral f$, the whole sequence converges to $L$. Q.E.D."

- id: "ANA-2019-07"
  year: 2019
  lecturer: "Mr. Adi Dickstein"
  topic: "Differentiation of Monotone Functions"
  given: |
    Let $F: [a,b] -> RR$ be increasing. Let $f(x) = F'(x)$.
  to_prove: |
    (a) $integral_a^b f(x) d x <= F(b) - F(a)$.
    (b) Give an example of strict inequality.
  tools: "Fatou's Lemma, Difference Quotients"
  common_mistakes: "Assuming equality holds (FTC requires absolute continuity)."
  hint: |
    Write $f$ as limit of difference quotients and apply Fatou. For (b), use Cantor.
  answer_steps:
    - type: setup
      title: "Difference Quotient"
      content: "Let $D_n(x) = n (F(x + 1/n) - F(x))$. Since $F$ is increasing, $D_n >= 0$ and $D_n -> F'(x)$ a.e."

    - type: calculation
      title: "Fatou's Lemma"
      content: |
        $integral_a^b F'(x) <= liminf integral_a^b D_n(x) d x$
        $= liminf n ( integral_(a+1/n)^(b+1/n) F - integral_a^b F )$.
        After cancellation: $<= F(b) - F(a)$.

    - type: claim
      title: "Counter-example"
      content: "Let $F$ be the Cantor function."
      proof: "$F(0)=0, F(1)=1$. $F'(x) = 0$ a.e. Thus $integral F' = 0 < 1 = F(1) - F(0)$."

    - type: conclusion
      title: "Result"
      content: "Strict inequality holds for singular functions. Q.E.D."

- id: "ANA-2019-08"
  year: 2019
  lecturer: "Mr. Adi Dickstein"
  topic: "Singular Integrals"
  given: |
    $F subset RR$ closed, $m(F^c) < infinity$. $delta(y) = d(y, F)$.
    $I(x) = integral_RR (delta(y)^lambda) / |x - y|^(1 + lambda) d y$.
  to_prove: |
    (a) $I(x) = infinity$ for $x in.not F$.
    (b) $I(x) < infinity$ for a.e. $x in F$.
  tools: "Tonelli's Theorem, Power Integrals"
  common_mistakes: "Forgetting that distance to F is 0 inside F."
  hint: |
    For (a), observe the singularity at $x$. For (b), integrate $I(x)$ over $F$ and swap order.
  answer_steps:
    - type: setup
      title: "Part (a): Divergence"
      content: "If $x in.not F$, $delta(x) > 0$. For $y$ near $x$, the numerator is bounded away from 0. The denominator $|x-y|^(1+lambda)$ is not integrable (power $> 1$). Thus $I(x) = infinity$."

    - type: calculation
      title: "Part (b): Integrate over F"
      content: |
        Consider $integral_F I(x) d x$. By Tonelli:
        $integral_(F^c) delta(y)^lambda ( integral_F 1 / |x - y|^(1 + lambda) d x ) d y$.
        (Note: if $y in F$, integrand is 0).

    - type: claim
      title: "Inner Integral Bound"
      content: "For $y in F^c$, the distance to $F$ is $delta(y)$. The integral over $F$ excludes the ball $B(y, delta(y))$."
      proof: "$integral_({|x-y| >= delta(y)}) |x-y|^(-(1+lambda)) d x = C delta(y)^(-lambda)$."

    - type: conclusion
      title: "Finiteness"
      content: "Total integral $<= C integral_(F^c) delta(y)^lambda delta(y)^(-lambda) d y = C m(F^c) < infinity$. Since $integral_F I < infinity$, $I$ is finite a.e. on $F$. Q.E.D."

- id: "ANA-2019-09"
  year: 2019
  lecturer: "Mr. Adi Dickstein"
  topic: "Radon-Nikodym Properties"
  given: |
    Let $mu << nu << lambda$.
  to_prove: |
    (a) $integral g d mu = integral g (d mu)/(d nu) d nu$ for $g in L^1(mu)$.
    (b) $mu << lambda$ and $(d mu)/(d lambda) = (d mu)/(d nu) dot (d nu)/(d lambda)$ a.e.
  tools: "Bootstrapping (Standard Machine), Chain Rule"
  common_mistakes: "Assuming linearity works for limits without MCT."
  hint: |
    Prove (a) for indicators, then simple functions, then non-negative limits. Use (a) to prove (b).
  answer_steps:
    - type: setup
      title: "Part (a): Indicators"
      content: "Let $g = chi_E$. LHS $= mu(E)$. RHS $= integral_E (d mu)/(d nu) d nu = mu(E)$ by definition."

    - type: claim
      title: "Simple Functions"
      content: "By linearity, the equality holds for simple functions."
      proof: "Integral is linear."

    - type: calculation
      title: "Limit Step"
      content: |
        For $g >= 0$, choose $phi_n arrow.tr g$.
        $integral g d mu = lim integral phi_n d mu = lim integral phi_n h d nu$
        $= integral g h d nu$ by MCT ($h = d mu / d nu >= 0$).

    - type: claim
      title: "Part (b): Chain Rule"
      content: "Let $f = (d mu)/(d nu), g = (d nu)/(d lambda)$. We check the integral definition."
      # FIX: Changed '$fg$' to '$f g$' below
      proof: "$mu(E) = integral_E f d nu$. Apply Part (a) to the measure $nu$: $integral_E f d nu = integral_E f g d lambda$. Thus $f g$ is the derivative."

    - type: conclusion
      title: "Result"
      content: "Uniqueness of Radon-Nikodym derivative implies the equality. Q.E.D."

- id: "ANA-2019-10"
  year: 2019
  lecturer: "Mr. Adi Dickstein"
  topic: "Continuous Extension & Density"
  given: |
    (a) $C subset RR$ closed, $f: C -> RR$ continuous.
    (b) $C_c(RR)$ dense in $L^1(RR)$.
  to_prove: |
    (a) Exists extension $F$ with same sup/inf bounds.
    (b) Prove density.
  tools: "Linear Interpolation, Urysohn's Lemma"
  common_mistakes: "Extending with constants only (fails continuity)."
  hint: |
    Extend linearly on the gaps (complement intervals). Approximate indicators by continuous functions.
  answer_steps:
    - type: setup
      title: "Part (a): Complement"
      content: "$RR setminus C = union (a_i, b_i)$. Define $F$ as linear interpolation between $f(a_i)$ and $f(b_i)$."
    
    - type: claim
      title: "Bounds"
      content: "Since interpolation is a convex combination, values stay within $[inf f, sup f]$."
      proof: "Line segment connects two values in range."

    - type: setup
      title: "Part (b): Simple Functions"
      content: "Simple functions are dense in $L^1$. It suffices to approximate $chi_E$ ($mu(E) < infinity$)."

    - type: calculation
      title: "Regularity"
      content: |
        Choose compact $K subset E$ and open $U supset E$ with $mu(U setminus K) < epsilon$.
        Construct continuous $g$ with $g|_K = 1, g|_(U^c) = 0$.
        $integral |chi_E - g| < epsilon$.

    - type: conclusion
      title: "Conclusion"
      content: "Thus $C_c$ is dense in $L^1$. Q.E.D."

- id: "ANA-2019-11"
  year: 2019
  lecturer: "Mr. Adi Dickstein"
  topic: "Limits of Integrals"
  given: |
    $f_n arrow.tr, g_n arrow.br$. $f_n <= h <= g_n$.
    $lim integral f_n = lim integral g_n = L$.
  to_prove: |
    Prove $h$ is integrable and $integral h = L$.
  tools: "Sandwich Theorem, MCT"
  common_mistakes: "Assuming h is measurable without proof (completeness)."
  hint: |
    Define limits $f$ and $g$. Show $f=g$ a.e. and squeeze $h$.
  answer_steps:
    - type: setup
      title: "Limit Functions"
      content: "Let $f = lim f_n$ and $g = lim g_n$. By MCT, $integral f = L$. By Reverse MCT (dominated by $g_1$), $integral g = L$."

    - type: claim
      title: "Squeeze"
      content: "$f_n <= h <= g_n implies f <= h <= g$ a.e."
      proof: "Limits preserve non-strict inequalities."

    - type: calculation
      title: "Equality AE"
      content: |
        $integral (g - f) = L - L = 0$. Since $g >= f$, this implies $g = f$ a.e.
        Thus $f = h = g$ a.e.

    - type: conclusion
      title: "Result"
      content: "Since Lebesgue measure is complete (or by definition), $h$ is measurable and $integral h = L$. Q.E.D."

- id: "ANA-2019-12"
  year: 2019
  lecturer: "Mr. Adi Dickstein"
  topic: "Maximal Function Integrability"
  given: |
    $f in L^1(RR^n)$. Suppose $f^* in L^1(RR^n)$.
  to_prove: |
    Prove $f = 0$ a.e.
  tools: "Maximal Function Decay Estimate"
  common_mistakes: "Thinking L1 functions map to L1 under Maximal."
  hint: |
    Show $f^*(x)$ decays like $1/|x|^n$, which is not integrable in $RR^n$.
  answer_steps:
    - type: setup
      title: "Decay Estimate"
      content: "If $f != 0$, let $B_R$ contain most mass. For large $x$, $f^*(x) >= C ||f||_1 / |x|^n$."
    
    - type: calculation
      title: "Integral Divergence"
      content: |
        Consider integral at infinity: $integral_(|x|>R) 1 / |x|^n d x$.
        Using polar coords: $integral_R^infinity r^(-n) r^(n-1) d r = integral 1 / r d r = infinity$.

    - type: claim
      title: "Contradiction"
      content: "If $||f||_1 > 0$, then $integral f^* = infinity$."
      proof: "Lower bound integral diverges."

    - type: conclusion
      title: "Result"
      content: "Since $f^* in L^1$, we must have $||f||_1 = 0$, so $f = 0$ a.e. Q.E.D."

- id: "ANA-2020-01"
  year: 2020
  lecturer: "Prof. Barak Weiss"
  topic: "Lipschitz Maps"
  given: |
    (a) $f: RR^d -> RR^d$ is Lipschitz. $m(A) = 0$.
    (b) Construct continuous $f: RR -> RR$ and $m(A)=0$ s.t. $m(f(A)) > 0$.
  to_prove: |
    (a) Prove $m(f(A)) = 0$.
    (b) Provide the example.
  tools: "Covering Argument, Cantor Function"
  common_mistakes: "Forgetting the dimension factor $r^d$ in volume calculations."
  hint: |
    (a) Cover $A$ with balls $B_i$. $f(B_i)$ fits in a ball of radius $K r_i$. Sum volumes.
    (b) Use the Cantor function and Cantor set.
  answer_steps:
    - type: setup
      title: "Part (a): Covering"
      content: "Cover $A$ with balls $B_i$ of radius $r_i$ such that $sum r_i^d < epsilon$."

    - type: calculation
      title: "Image Measure"
      content: |
        $f(B_i) subset B(f(x_i), K r_i)$.
        $m(f(A)) <= sum c_d (K r_i)^d = c_d K^d sum r_i^d < C epsilon$.
        As $epsilon -> 0$, measure is 0.

    - type: claim
      title: "Part (b): Example"
      content: "Let $A$ be the Cantor set ($m(A)=0$) and $f$ be the Cantor function."
      proof: "$f$ maps the Cantor set onto $[0,1]$. Thus $m(f(A)) = 1 > 0$."

    - type: conclusion
      title: "Conclusion"
      content: "Lipschitz maps preserve null sets; Holder/Continuous maps may not. Q.E.D."

- id: "ANA-2020-02"
  year: 2020
  lecturer: "Prof. Barak Weiss"
  topic: "Diophantine Approximation"
  given: |
    $E = { x in [0,1] : |x - p/q| < q^(-(2+epsilon)) "i.o." }$.
  to_prove: |
    (a) $E$ is Borel. (b) $m(E) = 0$. (c) $E$ is dense $G_delta$.
  tools: "Borel-Cantelli, Baire Category"
  common_mistakes: "Failing to sum the measure over all $p$."
  hint: |
    Write $E$ as a limsup of intervals. Sum the lengths for Borel-Cantelli.
  answer_steps:
    - type: setup
      title: "Set Definition"
      content: "$E = sect_(N=1)^infinity union_(q=N)^infinity union_p A_(p,q)$ where $A_(p,q)$ are open intervals."

    - type: claim
      title: "Borel"
      content: "Since it is a countable intersection of unions of open sets, it is Borel ($G_delta$)."

    - type: calculation
      title: "Measure Zero"
      content: |
        Fix $q$. There are approx $q$ values of $p$. Length of interval is $2 q^(-(2+epsilon))$.
        Sum for fixed $q$: $q dot 2 q^(-2-epsilon) = 2 q^(-1-epsilon)$.
        Total sum $sum q^(-1-epsilon) < infinity$ (converges).
        By Borel-Cantelli, $m(E) = 0$.

    - type: conclusion
      title: "Topology"
      content: "$E$ is a dense $G_delta$ because the union of intervals is dense and open. By Baire Category, it is 'large' topologically. Q.E.D."

- id: "ANA-2020-03"
  year: 2020
  lecturer: "Prof. Barak Weiss"
  topic: "Integral Intermediate Value"
  given: |
    (a) $0 < f < 1$, $mu(X) < infinity$ (non-atomic).
    (b) $integral_E f = integral_E f'$ for all $E$.
  to_prove: |
    (a) Exists $E$ with $integral_E f = alpha$.
    (b) $f = f'$ a.e.
  tools: "Lyapunov's Theorem, Null Set identification"
  common_mistakes: "Forgetting non-atomic requirement."
  hint: |
    (a) Consider measure $d nu = f d mu$. Range of non-atomic measure is convex.
  answer_steps:
    - type: setup
      title: "Part (a): New Measure"
      content: "Define $nu(A) = integral_A f d mu$. Since $mu$ is non-atomic and $f > 0$, $nu$ is non-atomic."
    
    - type: claim
      title: "Convexity"
      content: "By Sierpinski/Lyapunov, the range of $nu$ is $[0, nu(X)]$. Thus any value is attained."

    - type: calculation
      title: "Part (b): Difference"
      content: |
        Let $h = f - f'$. $integral_E h = 0$ for all $E$.
        Let $E_+ = { Re(h) > 0 }$. $integral_(E_+) Re(h) = 0 implies mu(E_+) = 0$.

    - type: conclusion
      title: "Result"
      content: "Repeating for negative/imaginary parts shows $h=0$ a.e. Q.E.D."

- id: "ANA-2020-04"
  year: 2020
  lecturer: "Prof. Barak Weiss"
  topic: "Lp Convergence Scaling"
  given: |
    $f in C_c(RR)$. $a_n -> a > 0, b_n -> b$.
    $f_n(x) = f(a_n x + b_n)$.
  to_prove: |
    Prove $f_n -> f(a x + b)$ in $L^p$.
  tools: "Dominated Convergence Theorem"
  common_mistakes: "Not checking uniform support bounds."
  hint: |
    Show functions are supported in a common compact set $[-M, M]$ and bounded by $max|f|$.
  answer_steps:
    - type: setup
      title: "Pointwise Convergence"
      content: "Since $f$ is continuous, $f(a_n x + b_n) -> f(a x + b)$ for all $x$."
    
    - type: claim
      title: "Domination"
      content: "Supports are uniformly bounded."
      proof: "If $supp(f) subset [-R, R]$, then $supp(f_n) subset [-(R+|b_n|)/a_n, ...]$. Since params converge, supports lie in $[-M, M]$. $|f_n| <= ||f||_infinity chi_([-M, M]) in L^p$."

    - type: conclusion
      title: "DCT"
      content: "By Dominated Convergence Theorem, $integral |f_n - f|^p -> 0$. Q.E.D."

- id: "ANA-2020-05"
  year: 2020
  lecturer: "Prof. Barak Weiss"
  topic: "Product Sigma-Algebras"
  given: |
    Let $Sigma_1, Sigma_2$ be $sigma$-algebras on $RR$.
    Consider the product $Sigma_1 times.o Sigma_2$ versus the $sigma$-algebra on $RR^2$.
  to_prove: |
    (a) If $Sigma_i$ are Borel, is the product equal to $cal(B)(RR^2)$?
    (b) If $Sigma_i$ are Lebesgue, is the product equal to $cal(L)(RR^2)$?
  tools: "Generators of Sigma-Algebras, Completeness"
  common_mistakes: "Assuming product of complete measures is complete."
  hint: |
    (a) Open rectangles generate Borel. (b) Consider a subset of a null slice.
  answer_steps:
    - type: setup
      title: "Part (a): Borel"
      content: "Yes. $cal(B)(RR^2)$ is generated by open rectangles $(a,b) times (c,d)$. Since these are in $cal(B)(RR) times.o cal(B)(RR)$, and projections are continuous, the algebras match."
    
    - type: claim
      title: "Part (b): Lebesgue"
      content: "No. The product $cal(L)(RR) times.o cal(L)(RR)$ is not complete."
      proof: "Let $A subset RR$ be non-measurable. The set ${0} times A$ has 2D Lebesgue measure 0 (subset of a line). However, it is not in the product algebra because slices must be measurable."

    - type: conclusion
      title: "Conclusion"
      content: "Borel products work nicely; Lebesgue products require completion. Q.E.D."

- id: "ANA-2020-06"
  year: 2020
  lecturer: "Prof. Barak Weiss"
  topic: "Non-Measurable Sets"
  given: |
    (a) $E$ Lebesgue measurable with $m(E) > 0$.
    (b) $f: RR -> RR$ arbitrary function.
  to_prove: |
    (a) $E$ contains a non-measurable subset.
    (b) The set of discontinuity points of $f$ is Borel.
  tools: "Vitali Set, Oscillation Function"
  common_mistakes: "For (b), thinking the set of discontinuities can be arbitrary."
  hint: |
    (a) Intersect $E$ with translations of a Vitali set. (b) Express discontinuities via oscillation $omega_f(x) >= 1/n$.
  answer_steps:
    - type: setup
      title: "Part (a): Vitali Adaptation"
      content: "Let $V$ be a Vitali set. $RR = union_q (V + q)$. Thus $E = union_q (E sect (V + q))$. If all intersections were measurable, additivity leads to contradiction (measure sum is 0 or infinity, not $m(E)$)."

    - type: setup
      title: "Part (b): Oscillation"
      content: "Let $omega_f(x) = inf_(delta>0) sup_(y,z in B(x, delta)) |f(y) - f(z)|$."
    
    - type: claim
      title: "Closed Sets"
      content: "The set $D_n = { x : omega_f(x) >= 1/n }$ is closed."
      proof: "If oscillation is small at limit point, it is small nearby. Thus low oscillation sets are open."

    - type: conclusion
      title: "Borel Structure"
      content: "The set of discontinuities is $union_(n=1)^infinity D_n$, which is an $F_sigma$ set, hence Borel. Q.E.D."

- id: "ANA-2020-07"
  year: 2020
  lecturer: "Prof. Barak Weiss"
  topic: "Absolute Continuity of Integral"
  given: |
    $g in L^1(mu)$ non-negative.
  to_prove: |
    Prove $forall epsilon > 0, exists delta > 0$ s.t. $mu(A) < delta implies integral_A g d mu < epsilon$.
  tools: "Bounded Approximation"
  common_mistakes: "Trying to prove for unbounded g directly."
  hint: |
    Approximate $g$ by $\min(g, M)$.
  answer_steps:
    - type: setup
      title: "Truncation"
      content: "Let $g_M = min(g, M)$. Choose $M$ large such that $integral (g - g_M) < epsilon / 2$."
    
    - type: calculation
      title: "Bound"
      content: |
        $integral_A g = integral_A (g - g_M) + integral_A g_M$
        $<= epsilon / 2 + M mu(A)$.

    - type: claim
      title: "Choice of Delta"
      content: "Choose $delta = epsilon / (2 M)$."
      proof: "If $mu(A) < delta$, then $M mu(A) < epsilon / 2$."

    - type: conclusion
      title: "Result"
      content: "Total integral $< epsilon / 2 + epsilon / 2 = epsilon$. Q.E.D."

- id: "ANA-2020-08"
  year: 2020
  lecturer: "Prof. Barak Weiss"
  topic: "L1 Convergence"
  given: |
    $f_n -> f$ in measure, $integral f_n -> integral f$, $f_n, f >= 0$.
  to_prove: |
    Prove $f_n -> f$ in $L^1$.
  tools: "Scheffe's Lemma"
  common_mistakes: "Ignoring the non-negative assumption."
  hint: |
    Expand $integral |f_n - f| = integral f_n + integral f - 2 integral min(f_n, f)$.
  answer_steps:
    - type: setup
      title: "Identity"
      content: "$|f_n - f| = f_n + f - 2 min(f_n, f)$."
    
    - type: claim
      title: "Dominated Convergence"
      content: "$min(f_n, f) -> f$ in measure and is dominated by $f$."
      proof: "By DCT, $integral min(f_n, f) -> integral f$."

    - type: calculation
      title: "Limit Calculation"
      content: |
        $integral |f_n - f| = integral f_n + integral f - 2 integral min(f_n, f)$
        $-> integral f + integral f - 2 integral f = 0$.

    - type: conclusion
      title: "Result"
      content: "Convergence in $L^1$ holds. Q.E.D."

- id: "ANA-2021-01"
  year: 2021
  lecturer: "Prof. Yefim Gluskin"
  topic: "Density Measures"
  given: |
    Define $d nu = p d mu$.
  to_prove: |
    $f in L^1(nu) iff p f in L^1(mu)$ and integrals agree.
  tools: "Change of Measure Formula"
  common_mistakes: "Forgetting absolute value for integrability check."
  hint: |
    Verify for indicators, simple functions, then $L^1$.
  answer_steps:
    - type: setup
      title: "Indicators"
      content: "For $f = chi_E$, $integral chi_E d nu = nu(E) = integral_E p d mu$. Holds."
    
    - type: claim
      title: "Non-negative Functions"
      content: "By MCT, holds for $f >= 0$."
      proof: "Approximate with simple functions."

    - type: conclusion
      title: "General L1"
      content: "$f in L^1(nu) iff |f| in L^1(nu) iff |f|p in L^1(mu)$. Equality follows by linearity. Q.E.D."

- id: "ANA-2021-02"
  year: 2021
  lecturer: "Prof. Yefim Gluskin"
  topic: "Continuity of Measure"
  given: |
    $mu$ is finitely additive and $A_n arrow.br emptyset implies mu(A_n) -> 0$.
  to_prove: |
    Prove $mu$ is countably additive.
  tools: "Disjoint Union to Nested Sequence"
  common_mistakes: "Confusing disjoint union with decreasing sequence."
  hint: |
    Let $R_n$ be the tail of the disjoint union.
  answer_steps:
    - type: setup
      title: "Tails"
      content: "Let $E = union E_k$ (disjoint). Let $R_n = union_(k=n+1)^infinity E_k$."

    - type: calculation
      title: "Finite Additivity"
      content: |
        $mu(E) = sum_(k=1)^n mu(E_k) + mu(R_n)$.
        Since $R_n arrow.br emptyset$, $mu(R_n) -> 0$.

    - type: conclusion
      title: "Limit"
      content: "$mu(E) = lim sum_(k=1)^n mu(E_k) = sum_(k=1)^infinity mu(E_k)$. Q.E.D."

- id: "ANA-2021-03"
  year: 2021
  lecturer: "Prof. Yefim Gluskin"
  topic: "Regularity of Measure"
  given: |
    $E$ Lebesgue measurable.
  to_prove: |
    Exists $F subset E$ (countable union of compacts) such that $m(E setminus F) = 0$.
  tools: "Inner Regularity"
  common_mistakes: "Thinking a single compact set suffices."
  hint: |
    Choose compacts $K_n$ approximating $E$ from within.
  answer_steps:
    - type: setup
      title: "Approximation"
      content: "For each $n$, exists compact $K_n subset E$ with $m(K_n) > m(E) - 1/n$ (finite case)."

    - type: claim
      title: "Union"
      content: "Let $F = union K_n$. This is an $F_sigma$ set."
      proof: "$m(F) >= m(K_n) > m(E) - 1/n$ for all $n$."

    - type: conclusion
      title: "Null Difference"
      content: "$m(E setminus F) = m(E) - m(F) = 0$. Q.E.D."

- id: "ANA-2021-04"
  year: 2021
  lecturer: "Prof. Yefim Gluskin"
  topic: "L2 to L1 Convergence"
  given: |
    $f_n -> f$ in measure on $[0,1]$. $||f_n||_2 <= 1$.
  to_prove: |
    Prove $integral f_n -> integral f$.
  tools: "Vitali Convergence Theorem, Uniform Integrability"
  common_mistakes: "Assuming L2 bound implies domination."
  hint: |
    Prove ${f_n}$ is Uniformly Integrable using Holder's inequality on small sets.
  answer_steps:
    - type: setup
      title: "Uniform Integrability"
      content: "We check $integral_E |f_n|$ for small $E$."
    
    - type: calculation
      title: "Holder Bound"
      content: |
        $integral_E |f_n| <= ||f_n||_2 (m(E))^(1/2) <= 1 dot sqrt(m(E))$.
        This vanishes uniformly as $m(E) -> 0$.

    - type: conclusion
      title: "Vitali Application"
      content: "Since $f_n$ is UI and converges in measure on finite space, $f_n -> f$ in $L^1$. Q.E.D."

- id: "ANA-2021-05"
  year: 2021
  lecturer: "Prof. Yefim Gluskin"
  topic: "Lebesgue-Stieltjes Measure"
  given: |
    $F(x) = x+1$ for $x in (0,1]$, $(x+1)^2$ for $x > 1$.
  to_prove: |
    Calculate $\mu({0})$, $\mu({1})$, $\mu((0,1])$.
  tools: "LS Measure Definition"
  common_mistakes: "Not normalizing F to be right-continuous."
  hint: |
    Mass at point = Jump size. Interval = Difference + Jumps.
  answer_steps:
    - type: setup
      title: "Jump at 0"
      content: "$F(0)=0$. $F(0^+) = 1$. Jump size 1. $mu({0}) = 1$."

    - type: calculation
      title: "Jump at 1"
      content: |
        $F(1) = 2$. $F(1^+) = (1+1)^2 = 4$.
        Jump size $4 - 2 = 2$.
        $mu({1}) = 2$.

    - type: conclusion
      title: "Interval (0,1]"
      content: "Continuous part $integral_0^1 1 d x = 1$. Plus mass at 1. Total $1 + 2 = 3$. (Or $F(1^+) - F(0^+) = 4 - 1 = 3$). Q.E.D."

- id: "ANA-2021-06"
  year: 2021
  lecturer: "Prof. Yefim Gluskin"
  topic: "Layer Cake Representation"
  given: |
    Prove $integral_X phi(f) d mu = integral_0^infinity mu({f >= s}) phi'(s) d s$.
  to_prove: |
    The identity holds.
  tools: "Tonelli's Theorem"
  common_mistakes: "Incorrect integration limits."
  hint: |
    Write $phi(y) = integral_0^y phi'(s) d s$.
  answer_steps:
    - type: setup
      title: "Integral Representation"
      content: "$phi(f(x)) = integral_0^infinity phi'(s) chi_({s < f(x)}) d s$."
    
    - type: calculation
      title: "Swap Order"
      content: |
        $integral_X integral_0^infinity ... d s d mu = integral_0^infinity phi'(s) ( integral_X chi_({f > s}) d mu ) d s$.

    - type: conclusion
      title: "Result"
      content: "Inner integral is $mu({f > s})$. Identity proved. Q.E.D."

- id: "ANA-2021-07"
  year: 2021
  lecturer: "Prof. Yefim Gluskin"
  topic: "Reverse Cauchy-Schwarz"
  given: |
    Consider $integral_E f$ and $integral_E 1/f$.
  to_prove: |
    $(integral_E f) (integral_E 1/f) >= mu(E)^2$.
  tools: "Cauchy-Schwarz Inequality"
  common_mistakes: "Not identifying the correct functions u and v."
  hint: |
    Let $u = sqrt(f), v = 1/sqrt(f)$.
  answer_steps:
    - type: setup
      title: "Functions"
      content: "Set $u = sqrt(f)$ and $v = 1/sqrt(f)$."

    - type: calculation
      title: "Application"
      content: |
        $(integral u v)^2 <= (integral u^2) (integral v^2)$.
        $integral u v = integral 1 = mu(E)$.
        $integral u^2 = integral f$, $integral v^2 = integral 1/f$.

    - type: conclusion
      title: "Result"
      content: "$mu(E)^2 <= (integral f)(integral 1/f)$. Q.E.D."

- id: "ANA-2022-01"
  year: 2022
  lecturer: "Dr. Alon Nishry"
  topic: "Characterization of Null Sets"
  given: |
    $m(A) = 0$.
  to_prove: |
    Exists sequence of intervals $I_n$ with $sum |I_n| < infinity$ s.t. every $x in A$ is in infinitely many $I_n$.
  tools: "Borel-Cantelli, Covering"
  common_mistakes: "Constructing intervals for each x separately without global sum convergence."
  hint: |
    Use covers $J_n^k$ with measure $2^(-k)$ and collect them all.
  answer_steps:
    - type: setup
      title: "Forward Direction"
      content: "For each $k$, cover $A$ with open intervals $J_n^k$ having sum $< 2^(-k)$."
    
    - type: claim
      title: "Collection"
      content: "Let ${I_j} = union_k {J_n^k}$. Total length $sum 2^(-k) = 1 < infinity$."
      proof: "Since $x in A$ is covered for every $k$, it is in infinitely many intervals."

    - type: conclusion
      title: "Reverse Direction"
      content: "If $sum |I_n| < infinity$, by Borel-Cantelli $sum chi_(I_n) < infinity$ a.e. Thus points in infinitely many intervals form a null set. Q.E.D."

- id: "ANA-2022-02"
  year: 2022
  lecturer: "Dr. Alon Nishry"
  topic: "Conditional Expectation"
  given: |
    $mu$ finite, $cal(F) subset Sigma$. $f in L^1(mu)$.
  to_prove: |
    Exists unique $g in L^1(mu|_cal(F))$ s.t. $integral_E f = integral_E g$ for all $E in cal(F)$.
  tools: "Radon-Nikodym Theorem"
  common_mistakes: "Applying RN on the wrong measure space."
  hint: |
    Define measure $lambda(E) = integral_E f d mu$ on $cal(F)$. Use RN w.r.t $nu = mu|_cal(F)$.
  answer_steps:
    - type: setup
      title: "Measure Definition"
      content: "Define signed measure $lambda$ on $cal(F)$ by $lambda(E) = integral_E f d mu$."
    
    - type: claim
      title: "Absolute Continuity"
      content: "$lambda << nu$ where $nu = mu|_cal(F)$."
      proof: "If $nu(E) = 0$, then $mu(E) = 0$, so $integral_E f = 0$."

    - type: conclusion
      title: "Result"
      content: "By Radon-Nikodym on $(X, cal(F))$, exists $g = (d lambda) / (d nu)$. Thus $lambda(E) = integral_E g d nu$. Q.E.D."